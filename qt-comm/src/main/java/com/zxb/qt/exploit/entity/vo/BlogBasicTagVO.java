package com.zxb.qt.exploit.entity.vo;

import com.fasterxml.jackson.annotation.JsonFormat;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.fasterxml.jackson.databind.annotation.JsonSerialize;
import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;
import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;
import lombok.Data;

import java.io.Serializable;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.Date;
import java.util.List;

/**
 * 博客信息 和 标签
 *
 *    以后版本 可能会有 用户 和 博客类型
 */
@Data
public class BlogBasicTagVO  implements Serializable {

    private Integer basic_id;
    private String title;
    private String content;
    private String editorContent;
    private String headContent;
    private Integer browseCount;
    private Integer CommentCount;
    private Integer top;
    private String userId;


    @JsonDeserialize(using = LocalDateTimeDeserializer.class)
    @JsonSerialize(using = LocalDateTimeSerializer.class)
    @JsonFormat(pattern = "yyyy-MM-dd",locale="zh",timezone="GMT+8")
    private LocalDateTime createTime;

    public String getCreateTimeToS() {
        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy年MM月dd日  ");
        int hour = createTime.getHour();

        String str = "";
        if (hour >= 0 && hour <= 6) {
            str = "凌晨" ;
        }
        if (hour > 6 && hour <= 12) {
            str = "上午" ;
        }
        if (hour > 12 && hour <= 13) {
            str = "中午" ;
        }
        if (hour > 13 && hour <= 18) {
            str = "下午" ;
        }
        if (hour > 18 && hour <= 24) {
            str = "晚上" ;
        }
        if ( hour > 12 ){
            hour -= 12 ;
        }
        str += hour+"点" ;
//        String date = formatter.format( createTime ) + str ;
        //或者
        return formatter.format( createTime ) + str ;
    }

    //CURRENT_TIMESTAMP
    @JsonFormat(pattern="yyyy-MM-dd",locale="zh",timezone="GMT+8")
    private LocalDateTime updateTime;


    private List<TagVO> tagList;

}
